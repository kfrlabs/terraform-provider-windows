---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "windows_feature Resource - windows"
subcategory: ""
description: |-
  Manages a Windows Server feature using the PowerShell Install-WindowsFeature cmdlet.
  This resource allows you to install, configure, and remove Windows Server features and roles.
  Example Usage
  
  resource "windows_feature" "web_server" {
    feature                    = "Web-Server"
    include_all_sub_features   = true
    include_management_tools   = true
    restart                    = false
  }
  
  resource "windows_feature" "ad_domain_services" {
    feature                    = "AD-Domain-Services"
    include_management_tools   = true
    allow_existing             = true
  }
---

# windows_feature (Resource)

Manages a Windows Server feature using the PowerShell Install-WindowsFeature cmdlet.

This resource allows you to install, configure, and remove Windows Server features and roles.

## Example Usage

```terraform
resource "windows_feature" "web_server" {
  feature                    = "Web-Server"
  include_all_sub_features   = true
  include_management_tools   = true
  restart                    = false
}

resource "windows_feature" "ad_domain_services" {
  feature                    = "AD-Domain-Services"
  include_management_tools   = true
  allow_existing             = true
}
```

## Example Usage

```terraform
# Basic web server installation
resource "windows_feature" "web_server" {
  feature = "Web-Server"
}

# Web server with all sub-features and management tools
resource "windows_feature" "web_server_full" {
  feature                    = "Web-Server"
  include_all_sub_features   = true
  include_management_tools   = true
}

# Active Directory Domain Services with management tools
resource "windows_feature" "ad_domain_services" {
  feature                  = "AD-Domain-Services"
  include_management_tools = true
  allow_existing           = true
}

# DNS Server with automatic restart
resource "windows_feature" "dns_server" {
  feature = "DNS"
  restart = true
}

# DHCP Server with custom timeout
resource "windows_feature" "dhcp_server" {
  feature         = "DHCP"
  command_timeout = 600
}

# Hyper-V with all components
resource "windows_feature" "hyperv" {
  feature                    = "Hyper-V"
  include_all_sub_features   = true
  include_management_tools   = true
  restart                    = true
  command_timeout            = 900
}

# File Server Resource Manager (FSRM)
resource "windows_feature" "fsrm" {
  feature                  = "FS-Resource-Manager"
  include_management_tools = true
}

# Remote Desktop Services
resource "windows_feature" "rds" {
  feature                  = "RDS-RD-Server"
  include_all_sub_features = true
}

# Windows Server Backup
resource "windows_feature" "backup" {
  feature = "Windows-Server-Backup"
}

# Adopting an existing feature installation
resource "windows_feature" "existing_iis" {
  feature        = "Web-Server"
  allow_existing = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `feature` (String) The name of the Windows feature to install. Must be a valid Windows feature name (e.g., 'Web-Server', 'RSAT-ADDS').

### Optional

- `allow_existing` (Boolean) If true, allows adopting an already installed feature. If false, fails if the feature is already installed.
- `command_timeout` (Number) Timeout in seconds for PowerShell commands. Default is 300 seconds (5 minutes).
- `include_all_sub_features` (Boolean) If true, installs all sub-features of the specified feature.
- `include_management_tools` (Boolean) If true, installs the management tools for the feature (RSAT tools).
- `restart` (Boolean) If true, restarts the server after installation if required. Use with caution.

### Read-Only

- `additional_info` (Map of String) Additional metadata about the feature (MajorVersion, MinorVersion, NumericId, InstallName).
- `depth` (Number) The depth level of the feature in the hierarchy tree.
- `description` (String) The description of the Windows feature.
- `display_name` (String) The display name of the Windows feature.
- `id` (String) Unique identifier for the resource (same as feature name).
- `install_state` (String) The current installation state of the feature (e.g., 'Installed', 'Available', 'Removed').
- `post_configuration_needed` (Boolean) Indicates whether post-installation configuration is required.
- `restart_needed` (Boolean) Indicates whether a restart is needed after the operation.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Import an existing Web-Server installation
terraform import windows_feature.web_server "Web-Server"

# Import Active Directory Domain Services
terraform import windows_feature.ad_domain_services "AD-Domain-Services"

# Import DNS Server
terraform import windows_feature.dns_server "DNS"

# Import DHCP Server
terraform import windows_feature.dhcp_server "DHCP"

# Import Hyper-V
terraform import windows_feature.hyperv "Hyper-V"

# Import File Server Resource Manager
terraform import windows_feature.fsrm "FS-Resource-Manager"

# Import Remote Desktop Services
terraform import windows_feature.rds "RDS-RD-Server"
```
